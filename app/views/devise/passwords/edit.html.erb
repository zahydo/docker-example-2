<p class="notice"><%= notice %></p>
<p class="alert"><%= alert %></p>
<h2 class="text-center">Cambiar mi contraseña</h2>
<div class="form-horizontal">
  
<%= form_for(resource, as: resource_name,  url: password_path(resource_name), html: { method: :put }) do |f| %>
  <%= devise_error_messages! %>
  <%= f.hidden_field :reset_password_token %>
  
  <div class="form-group">
    <%= f.label :password, "Nueva contraseña", class:"control-label col-sm-3" %>
    <% if @minimum_password_length %>
      <em >(<%=@minimum_password_length%> caracteres mínimo)</em><br />
    <%end%>
    <div class="col-sm-6">
    <%= f.password_field :password, autofocus: true, class:"form-control", placeholder: "Digita tu nueva contraseña" ,:onblur => "validarContrasenaCorrecto(this);",:onkeyup => "validarContrasenaCorrecto(this);" %>
    <span class="help-inline" id="error_contrasena" style="color:#FF0000"><%= @user.errors[:password].any? ? @user.errors[:password].to_s[/\w([^"]*)/] : "" %></span>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :password_confirmation, "Confirmar nueva contraseña", class:"control-label col-sm-3", :onblur => "validarCContrasenaCorrecto(this);", :onkeyup => "validarCContrasenaCorrecto(this);" %>
    <div class="col-sm-6">
    <%= f.password_field :password_confirmation, class:"form-control", placeholder: "Repite tu nueva contraseña" %>
     <span class="help-inline" id="error_Ccontrasena" style="color:#FF0000"><%= @user.errors[:password_confirmation].any? ? @user.errors[:password_confirmation].to_s[/\w([^"]*)/] : "" %></span>
    </div>
  </div>

  <div class="form-actions">
    <%= f.submit "Cambiar mi contraseña", class:"btn btn-default" %>
  </div>
</div>

<% end %>
<%= render "devise/shared/links" %>
